import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.InputStreamReader;
import java.net.Socket;


public class Listener implements Runnable{
	Socket socket;
	DataInputStream din;
	public Listener(Socket s) throws Exception{
		socket = s;
		din = new DataInputStream(socket.getInputStream());
	}
	@Override
	public void run() {
		System.out.println("Start running the thread");
		// TODO Auto-generated method stub
		
		BufferedReader reader=new BufferedReader(new InputStreamReader(din));
		try{
			
		while(true){
			while (!reader.ready()){
				
			}
			String s = reader.readLine();
			int ack = Integer.valueOf(s);
			System.out.println("reveived ack num "+ack);
			
			MainClient.setLastAck(ack);
		}
			
			
		}catch (Exception e){
			
		}
	}
}
